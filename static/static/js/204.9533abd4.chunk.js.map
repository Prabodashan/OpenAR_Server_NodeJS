{"version":3,"file":"static/js/204.9533abd4.chunk.js","mappings":"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","sources":["pages/newItem/NewItem.jsx","../node_modules/@mui/icons-material/DriveFolderUploadOutlined.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/material/utils/createChainedFunction.js","../node_modules/@mui/material/utils/deprecatedPropType.js","../node_modules/@mui/utils/esm/deprecatedPropType/deprecatedPropType.js","../node_modules/@mui/material/utils/requirePropFactory.js","../node_modules/@mui/utils/esm/requirePropFactory/requirePropFactory.js","../node_modules/@mui/material/utils/setRef.js","../node_modules/@mui/material/utils/unsupportedProp.js","../node_modules/@mui/utils/esm/unsupportedProp/unsupportedProp.js","../node_modules/@mui/material/utils/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport DriveFolderUploadOutlinedIcon from \"@mui/icons-material/DriveFolderUploadOutlined\";\r\n\r\nimport useAxios from \"../../hooks/axios\";\r\n\r\nimport \"./newItem.scss\";\r\n\r\nimport { API_URLS } from \"../../configs/api.urls\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst NewItem = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [inputs, setInputs] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    file: \"\",\r\n    collectionId: \"\",\r\n  });\r\n\r\n  const [file, setFile] = useState(\"\");\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const [collectionData, setCollectionData] = useState([]);\r\n\r\n  const [err, setError] = useState(null);\r\n\r\n  const { loading, fetchData } = useAxios();\r\n\r\n  const getCollection = async () => {\r\n    const response = await fetchData({\r\n      url: API_URLS.GET_ALL_COLLECTION_URL,\r\n      method: \"GET\",\r\n    });\r\n\r\n    if (response?.status) {\r\n      setCollectionData(response.collection);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getCollection();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setInputs((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    setError(null);\r\n\r\n    if (!values.name) {\r\n      errors.name = \"Name is required!\";\r\n    }\r\n    if (!values.collectionId) {\r\n      errors.collectionId = \"Collection Id is required!\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const errorVal = validate(inputs);\r\n    if (Object.keys(errorVal).length !== 0) {\r\n      setError(errorVal);\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    const fileResponse = await axios.post(API_URLS.FILE_UPLOAD_URL, formData, {\r\n      onUploadProgress: (progressEvent) => {\r\n        const percentCompleted = Math.round(\r\n          (progressEvent.loaded * 100) / progressEvent.total\r\n        );\r\n        setProgress(percentCompleted);\r\n      },\r\n    });\r\n\r\n    const { name, description, collectionId } = inputs;\r\n\r\n    const itemData = {\r\n      name,\r\n      description,\r\n      file: fileResponse.data.file.path,\r\n      collectionId,\r\n    };\r\n\r\n    const response = await fetchData({\r\n      url: API_URLS.CREATE_ITEM_URL,\r\n      method: \"POST\",\r\n      data: itemData,\r\n    });\r\n\r\n    if (!response.status) {\r\n      return toast.error(response.error.message);\r\n    }\r\n    toast.success(response.success.message);\r\n    navigate(\"/item\", { replace: true });\r\n  };\r\n\r\n  return (\r\n    <div className=\"newItem\">\r\n      <div className=\"top\">\r\n        <h1>Add New User</h1>\r\n      </div>\r\n      <div className=\"bottom\">\r\n        <div className=\"left\">\r\n          <img\r\n            src=\"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className=\"right\">\r\n          <form>\r\n            <div className=\"formInput\">\r\n              <label>Name</label>\r\n              <input\r\n                name=\"name\"\r\n                type=\"text\"\r\n                placeholder=\"john doe\"\r\n                onChange={handleChange}\r\n              />\r\n              {err?.name ? (\r\n                <span className=\"errorSpan\">{err.name}</span>\r\n              ) : (\r\n                <p>\r\n                  <br />\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"formInput\">\r\n              <label>Description</label>\r\n              <input\r\n                name=\"description\"\r\n                type=\"email\"\r\n                placeholder=\"john_doe@gmail.com\"\r\n                onChange={handleChange}\r\n              />\r\n              {err?.description ? (\r\n                <span className=\"errorSpan\">{err.description}</span>\r\n              ) : (\r\n                <p>\r\n                  <br />\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"formInput\">\r\n              <label>collection Name</label>\r\n              <div className=\"select-container\">\r\n                <select name=\"collectionId\" onChange={handleChange}>\r\n                  <option value=\"\"></option>\r\n                  {collectionData.map((data) => (\r\n                    <option key={data._id} value={data._id}>\r\n                      {data.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              {err?.collectionId ? (\r\n                <span className=\"errorSpan\">{err.collectionId}</span>\r\n              ) : (\r\n                <p>\r\n                  <br />\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"formInput\">\r\n              <label htmlFor=\"file\">\r\n                File: <DriveFolderUploadOutlinedIcon className=\"icon\" />{\" \"}\r\n                <span>{file.name}</span>\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                id=\"file\"\r\n                onChange={(e) => setFile(e.target.files[0])}\r\n                style={{ display: \"none\" }}\r\n              />\r\n              {progress > 0 ? (\r\n                <div className=\"progress-bg\">\r\n                  <div className=\"progress\" style={{ width: `${progress}%` }} />\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n\r\n            <button onClick={handleSubmit} disabled={loading}>\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewItem;\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V6h5.17l2 2H20zM9.41 14.42 11 12.84V17h2v-4.16l1.59 1.59L16 13.01 12.01 9 8 13.01z\"\n}), 'DriveFolderUploadOutlined');","\"use strict\";\n'use client';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@mui/material/utils\");","import createChainedFunction from '@mui/utils/createChainedFunction';\nexport default createChainedFunction;","import deprecatedPropType from '@mui/utils/deprecatedPropType';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n    return null;\n  };\n}","import requirePropFactory from '@mui/utils/requirePropFactory';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n    return null;\n  };\n  return requireProp;\n}","import setRef from '@mui/utils/setRef';\nexport default setRef;","import unsupportedProp from '@mui/utils/unsupportedProp';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n  const propFullNameSafe = propFullName || propName;\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n  return null;\n}","'use client';\n\nimport { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/utils';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible';\n// TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    }\n    ClassNameGenerator.configure(generator);\n  }\n};"],"names":["NewItem","navigate","useNavigate","inputs","setInputs","useState","name","description","file","collectionId","setFile","progress","setProgress","collectionData","setCollectionData","err","setError","loading","fetchData","useAxios","useEffect","async","response","url","API_URLS","GET_ALL_COLLECTION_URL","method","status","collection","getCollection","handleChange","e","prev","target","value","_jsxs","className","children","_jsx","src","alt","type","placeholder","onChange","map","data","_id","htmlFor","DriveFolderUploadOutlinedIcon","id","files","style","display","width","onClick","preventDefault","errorVal","values","errors","validate","Object","keys","length","formData","FormData","append","fileResponse","axios","post","FILE_UPLOAD_URL","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","itemData","path","CREATE_ITEM_URL","toast","error","message","success","replace","disabled","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d","defineProperty","enumerable","get","_utils","createSvgIcon","validator","reason","componentNameInError","Component","props","propName","componentName","location","propFullName","unstable_ClassNameGenerator","configure","generator","ClassNameGenerator"],"sourceRoot":""}