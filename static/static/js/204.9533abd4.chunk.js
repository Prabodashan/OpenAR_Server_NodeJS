"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[204],{8204:(e,n,s)=>{s.r(n),s.d(n,{default:()=>u});var l=s(5043),a=s(6328),t=s(8625),r=s(9510),c=s(366),i=s(3216),o=s(6213),d=s(579);const u=()=>{const e=(0,i.Zp)(),[n,s]=(0,l.useState)({name:"",description:"",file:"",collectionId:""}),[u,m]=(0,l.useState)(""),[p,h]=(0,l.useState)(0),[j,f]=(0,l.useState)([]),[x,v]=(0,l.useState)(null),{loading:g,fetchData:b}=(0,r.A)();(0,l.useEffect)((()=>{(async()=>{const e=await b({url:c.y.GET_ALL_COLLECTION_URL,method:"GET"});null!==e&&void 0!==e&&e.status&&f(e.collection)})()}),[]);const A=e=>{s((n=>({...n,[e.target.name]:e.target.value})))};return(0,d.jsxs)("div",{className:"newItem",children:[(0,d.jsx)("div",{className:"top",children:(0,d.jsx)("h1",{children:"Add New User"})}),(0,d.jsxs)("div",{className:"bottom",children:[(0,d.jsx)("div",{className:"left",children:(0,d.jsx)("img",{src:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",alt:""})}),(0,d.jsx)("div",{className:"right",children:(0,d.jsxs)("form",{children:[(0,d.jsxs)("div",{className:"formInput",children:[(0,d.jsx)("label",{children:"Name"}),(0,d.jsx)("input",{name:"name",type:"text",placeholder:"john doe",onChange:A}),null!==x&&void 0!==x&&x.name?(0,d.jsx)("span",{className:"errorSpan",children:x.name}):(0,d.jsx)("p",{children:(0,d.jsx)("br",{})})]}),(0,d.jsxs)("div",{className:"formInput",children:[(0,d.jsx)("label",{children:"Description"}),(0,d.jsx)("input",{name:"description",type:"email",placeholder:"john_doe@gmail.com",onChange:A}),null!==x&&void 0!==x&&x.description?(0,d.jsx)("span",{className:"errorSpan",children:x.description}):(0,d.jsx)("p",{children:(0,d.jsx)("br",{})})]}),(0,d.jsxs)("div",{className:"formInput",children:[(0,d.jsx)("label",{children:"collection Name"}),(0,d.jsx)("div",{className:"select-container",children:(0,d.jsxs)("select",{name:"collectionId",onChange:A,children:[(0,d.jsx)("option",{value:""}),j.map((e=>(0,d.jsx)("option",{value:e._id,children:e.name},e._id)))]})}),null!==x&&void 0!==x&&x.collectionId?(0,d.jsx)("span",{className:"errorSpan",children:x.collectionId}):(0,d.jsx)("p",{children:(0,d.jsx)("br",{})})]}),(0,d.jsxs)("div",{className:"formInput",children:[(0,d.jsxs)("label",{htmlFor:"file",children:["File: ",(0,d.jsx)(t.A,{className:"icon"})," ",(0,d.jsx)("span",{children:u.name})]}),(0,d.jsx)("input",{type:"file",id:"file",onChange:e=>m(e.target.files[0]),style:{display:"none"}}),p>0?(0,d.jsx)("div",{className:"progress-bg",children:(0,d.jsx)("div",{className:"progress",style:{width:`${p}%`}})}):""]}),(0,d.jsx)("button",{onClick:async s=>{s.preventDefault();const l=(e=>{const n={};return v(null),e.name||(n.name="Name is required!"),e.collectionId||(n.collectionId="Collection Id is required!"),n})(n);if(0!==Object.keys(l).length)return void v(l);const t=new FormData;t.append("file",u);const r=await o.A.post(c.y.FILE_UPLOAD_URL,t,{onUploadProgress:e=>{const n=Math.round(100*e.loaded/e.total);h(n)}}),{name:i,description:d,collectionId:m}=n,p={name:i,description:d,file:r.data.file.path,collectionId:m},j=await b({url:c.y.CREATE_ITEM_URL,method:"POST",data:p});if(!j.status)return a.oR.error(j.error.message);a.oR.success(j.success.message),e("/item",{replace:!0})},disabled:g,children:"Submit"})]})})]})]})}},8625:(e,n,s)=>{var l=s(4994);n.A=void 0;var a=l(s(39)),t=s(579);n.A=(0,a.default)((0,t.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V6h5.17l2 2H20zM9.41 14.42 11 12.84V17h2v-4.16l1.59 1.59L16 13.01 12.01 9 8 13.01z"}),"DriveFolderUploadOutlined")},39:(e,n,s)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l.createSvgIcon}});var l=s(4421)},4421:(e,n,s)=>{s.r(n),s.d(n,{capitalize:()=>a.A,createChainedFunction:()=>t,createSvgIcon:()=>r.A,debounce:()=>c.A,deprecatedPropType:()=>i,isMuiElement:()=>o.A,ownerDocument:()=>d.A,ownerWindow:()=>u.A,requirePropFactory:()=>m,setRef:()=>p,unstable_ClassNameGenerator:()=>A,unstable_useEnhancedEffect:()=>h.A,unstable_useId:()=>j.A,unsupportedProp:()=>f,useControlled:()=>x.A,useEventCallback:()=>v.A,useForkRef:()=>g.A,useIsFocusVisible:()=>b.A});var l=s(9386),a=s(6803);const t=s(2456).A;var r=s(9662),c=s(950);const i=function(e,n){return()=>null};var o=s(7328),d=s(2427),u=s(6078);s(8168);const m=function(e,n){return()=>null};const p=s(6564).A;var h=s(5013),j=s(5879);const f=function(e,n,s,l,a){return null};var x=s(4516),v=s(3319),g=s(5849),b=s(3574);const A={configure:e=>{l.A.configure(e)}}}}]);
//# sourceMappingURL=204.9533abd4.chunk.js.map